<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Accumulate intermediate results of a vector reduction — accumulate • purrr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Accumulate intermediate results of a vector reduction — accumulate" />
<meta property="og:description" content="accumulate() sequentially applies a 2-argument function to elements of a
vector. Each application of the function uses the initial value or result
of the previous application as the first argument. The second argument is
the next value of the vector. The results of each application are
returned in a list. The accumulation can optionally terminate before
processing the whole vector in response to a done() signal returned by
the accumulation function.
By contrast to accumulate(), reduce() applies a 2-argument function in
the same way, but discards all results except that of the final function
application.
accumulate2() sequentially applies a function to elements of two lists, .x and .y." />
<meta property="og:image" content="https://purrr.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">purrr</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.3.4.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/other-langs.html">Functional programming in other languages</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/02/purrr-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2017/08/purrr-0.2.3/">Version 0.2.3</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/purrr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Accumulate intermediate results of a vector reduction</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/purrr/blob/master/R/reduce.R'><code>R/reduce.R</code></a></small>
    <div class="hidden name"><code>accumulate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>accumulate()</code> sequentially applies a 2-argument function to elements of a
vector. Each application of the function uses the initial value or result
of the previous application as the first argument. The second argument is
the next value of the vector. The results of each application are
returned in a list. The accumulation can optionally terminate before
processing the whole vector in response to a <code><a href='done.html'>done()</a></code> signal returned by
the accumulation function.</p>
<p>By contrast to <code>accumulate()</code>, <code><a href='reduce.html'>reduce()</a></code> applies a 2-argument function in
the same way, but discards all results except that of the final function
application.</p>
<p><code>accumulate2()</code> sequentially applies a function to elements of two lists, <code>.x</code> and <code>.y</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.f</span>, <span class='va'>...</span>, <span class='va'>.init</span>, .dir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"forward"</span>, <span class='st'>"backward"</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>accumulate2</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span>, <span class='va'>.init</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.x</th>
      <td><p>A list or atomic vector.</p></td>
    </tr>
    <tr>
      <th>.f</th>
      <td><p>For <code>accumulate()</code> <code>.f</code> is 2-argument function. The function will
be passed the accumulated result or initial value as the first argument.
The next value in sequence is passed as the second argument.</p>
<p>For <code>accumulate2()</code>, a 3-argument function. The
function will be passed the accumulated result as the first
argument. The next value in sequence from <code>.x</code> is passed as the second argument. The
next value in sequence from <code>.y</code> is passed as the third argument.</p>
<p>The accumulation terminates early if <code>.f</code> returns a value wrapped in
a <code><a href='done.html'>done()</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed on to the mapped function.</p></td>
    </tr>
    <tr>
      <th>.init</th>
      <td><p>If supplied, will be used as the first value to start
the accumulation, rather than using <code>.x[[1]]</code>. This is useful if
you want to ensure that <code>reduce</code> returns a correct value when <code>.x</code>
is empty. If missing, and <code>.x</code> is empty, will throw an error.</p></td>
    </tr>
    <tr>
      <th>.dir</th>
      <td><p>The direction of accumulation as a string, one of
<code>"forward"</code> (the default) or <code>"backward"</code>. See the section about
direction below.</p></td>
    </tr>
    <tr>
      <th>.y</th>
      <td><p>For <code>accumulate2()</code> <code>.y</code> is the second argument of the pair. It
needs to be 1 element shorter than the vector to be accumulated (<code>.x</code>).
If <code>.init</code> is set, <code>.y</code> needs to be one element shorted than the
concatenation of the initial value and <code>.x</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector the same length of <code>.x</code> with the same names as <code>.x</code>.</p>
<p>If <code>.init</code> is supplied, the length is extended by 1. If <code>.x</code> has
names, the initial value is given the name <code>".init"</code>, otherwise
the returned vector is kept unnamed.</p>
<p>If <code>.dir</code> is <code>"forward"</code> (the default), the first element is the
initial value (<code>.init</code> if supplied, or the first element of <code>.x</code>)
and the last element is the final reduced value. In case of a
right accumulation, this order is reversed.</p>
<p>The accumulation terminates early if <code>.f</code> returns a value wrapped
in a <code><a href='done.html'>done()</a></code>. If the done box is empty, the last value is
used instead and the result is one element shorter (but always
includes the initial value, even when terminating at the first
iteration).</p>
    <h2 class="hasAnchor" id="life-cycle"><a class="anchor" href="#life-cycle"></a>Life cycle</h2>

    


<p><code><a href='reduce_right.html'>accumulate_right()</a></code> is soft-deprecated in favour of the <code>.dir</code>
argument as of rlang 0.3.0. Note that the algorithm has
slightly changed: the accumulated value is passed to the right
rather than the left, which is consistent with a right reduction.</p>
    <h2 class="hasAnchor" id="direction"><a class="anchor" href="#direction"></a>Direction</h2>

    


<p>When <code>.f</code> is an associative operation like <code><a href='https://rdrr.io/r/base/Arithmetic.html'>+</a></code> or <code><a href='https://rdrr.io/r/base/c.html'>c()</a></code>, the
direction of reduction does not matter. For instance, reducing the
vector <code>1:3</code> with the binary function <code><a href='https://rdrr.io/r/base/Arithmetic.html'>+</a></code> computes the sum <code>((1 + 2) + 3)</code> from the left, and the same sum <code>(1 + (2 + 3))</code> from the
right.</p>
<p>In other cases, the direction has important consequences on the
reduced value. For instance, reducing a vector with <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code> from
the left produces a left-leaning nested list (or tree), while
reducing <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code> from the right produces a right-leaning list.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='reduce.html'>reduce()</a></code> when you only need the final reduced value.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># With an associative operation, the final value is always the</span>
<span class='co'># same, no matter the direction. You'll find it in the last element for a</span>
<span class='co'># backward (left) accumulation, and in the first element for forward</span>
<span class='co'># (right) one:</span>
<span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>`+`</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1]  1  3  6 10 15</div><div class='input'><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>`+`</span>, .dir <span class='op'>=</span> <span class='st'>"backward"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 15 14 12  9  5</div><div class='input'>
<span class='co'># The final value is always equal to the equivalent reduction:</span>
<span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='reduce.html'>reduce</a></span><span class='op'>(</span><span class='va'>`+`</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 15</div><div class='input'>
<span class='co'># It is easier to understand the details of the reduction with</span>
<span class='co'># `paste()`.</span>
<span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, <span class='va'>paste</span>, sep <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a"         "a.b"       "a.b.c"     "a.b.c.d"   "a.b.c.d.e"</div><div class='input'>
<span class='co'># Note how the intermediary reduced values are passed to the left</span>
<span class='co'># with a left reduction, and to the right otherwise:</span>
<span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, <span class='va'>paste</span>, sep <span class='op'>=</span> <span class='st'>"."</span>, .dir <span class='op'>=</span> <span class='st'>"backward"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a.b.c.d.e" "b.c.d.e"   "c.d.e"     "d.e"       "e"        </div><div class='input'>
<span class='co'># `accumulate2()` is a version of `accumulate()` that works with</span>
<span class='co'># 3-argument functions and one additional vector:</span>
<span class='va'>paste2</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>sep</span> <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, sep <span class='op'>=</span> <span class='va'>sep</span><span class='op'>)</span>
<span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>]</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>paste2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a"       "a.b"     "a.b.c"   "a.b.c.d"</div><div class='input'><span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>]</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate2</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"-"</span>, <span class='st'>"."</span>, <span class='st'>"-"</span><span class='op'>)</span>, <span class='va'>paste2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "a"
#&gt; 
#&gt; [[2]]
#&gt; [1] "a-b"
#&gt; 
#&gt; [[3]]
#&gt; [1] "a-b.c"
#&gt; 
#&gt; [[4]]
#&gt; [1] "a-b.c-d"
#&gt; </div><div class='input'>

<span class='co'># You can shortcircuit an accumulation and terminate it early by</span>
<span class='co'># returning a value wrapped in a done(). In the following example</span>
<span class='co'># we return early if the result-so-far, which is passed on the LHS,</span>
<span class='co'># meets a condition:</span>
<span class='va'>paste3</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>input</span>, <span class='va'>sep</span> <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>out</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>4</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='done.html'>done</a></span><span class='op'>(</span><span class='va'>out</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>input</span>, sep <span class='op'>=</span> <span class='va'>sep</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>letters</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>paste3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a"     "a.b"   "a.b.c" "a.b.c"</div><div class='input'>
<span class='co'># Note how we get twice the same value in the accumulation. That's</span>
<span class='co'># because we have returned it twice. To prevent this, return an empty</span>
<span class='co'># done box to signal to accumulate() that it should terminate with the</span>
<span class='co'># value of the last iteration:</span>
<span class='va'>paste3</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>input</span>, <span class='va'>sep</span> <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>out</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>4</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='done.html'>done</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>input</span>, sep <span class='op'>=</span> <span class='va'>sep</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>letters</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>paste3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a"     "a.b"   "a.b.c"</div><div class='input'>
<span class='co'># Here the early return branch checks the incoming inputs passed on</span>
<span class='co'># the RHS:</span>
<span class='va'>paste4</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>input</span>, <span class='va'>sep</span> <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>input</span> <span class='op'>==</span> <span class='st'>"f"</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='done.html'>done</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>input</span>, sep <span class='op'>=</span> <span class='va'>sep</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>letters</span> <span class='op'>%&gt;%</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>paste4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a"         "a.b"       "a.b.c"     "a.b.c.d"   "a.b.c.d.e"</div><div class='input'>

<span class='co'># Simulating stochastic processes with drift</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>ggplot2</span><span class='op'>)</span>

<span class='fu'><a href='rerun.html'>rerun</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>100</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='set_names.html'>set_names</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"sim"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='map.html'>map</a></span><span class='op'>(</span><span class='op'>~</span> <span class='fu'>accumulate</span><span class='op'>(</span><span class='va'>.</span>, <span class='op'>~</span> <span class='fl'>.05</span> <span class='op'>+</span> <span class='va'>.x</span> <span class='op'>+</span> <span class='va'>.y</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='map.html'>map_dfr</a></span><span class='op'>(</span><span class='op'>~</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>value <span class='op'>=</span> <span class='va'>.x</span>, step <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span><span class='op'>)</span>, .id <span class='op'>=</span> <span class='st'>"simulation"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>step</span>, y <span class='op'>=</span> <span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_line</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>simulation</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Simulations of a random walk with drift"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>purrr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Lionel Henry, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


