<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Map over multiple inputs simultaneously. — map2 • purrr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Map over multiple inputs simultaneously. — map2" />
<meta property="og:description" content="These functions are variants of map() that iterate over multiple arguments
simultaneously. They are parallel in the sense that each input is processed
in parallel with the others, not in the sense of multicore computing. They
share the same notion of &quot;parallel&quot; as base::pmax() and base::pmin().
map2() and walk2() are specialised for the two argument case; pmap()
and pwalk() allow you to provide any number of arguments in a list. Note
that a data frame is a very important special case, in which case pmap()
and pwalk() apply the function .f to each row. map_dfr(), pmap_dfr()
and map2_dfc(), pmap_dfc() return data frames created by row-binding
and column-binding respectively. They require dplyr to be installed." />
<meta property="og:image" content="https://purrr.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">purrr</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.3.4.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/other-langs.html">Functional programming in other languages</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/02/purrr-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2017/08/purrr-0.2.3/">Version 0.2.3</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/purrr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Map over multiple inputs simultaneously.</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/purrr/blob/master/R/map2-pmap.R'><code>R/map2-pmap.R</code></a></small>
    <div class="hidden name"><code>map2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions are variants of <code><a href='map.html'>map()</a></code> that iterate over multiple arguments
simultaneously. They are parallel in the sense that each input is processed
in parallel with the others, not in the sense of multicore computing. They
share the same notion of "parallel" as <code><a href='https://rdrr.io/r/base/Extremes.html'>base::pmax()</a></code> and <code><a href='https://rdrr.io/r/base/Extremes.html'>base::pmin()</a></code>.
<code>map2()</code> and <code>walk2()</code> are specialised for the two argument case; <code>pmap()</code>
and <code>pwalk()</code> allow you to provide any number of arguments in a list. Note
that a data frame is a very important special case, in which case <code>pmap()</code>
and <code>pwalk()</code> apply the function <code>.f</code> to each row. <code><a href='map.html'>map_dfr()</a></code>, <code>pmap_dfr()</code>
and <code>map2_dfc()</code>, <code>pmap_dfc()</code> return data frames created by row-binding
and column-binding respectively. They require dplyr to be installed.</p>
    </div>

    <pre class="usage"><span class='fu'>map2</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>map2_lgl</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>map2_int</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>map2_dbl</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>map2_chr</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>map2_raw</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>map2_dfr</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span>, .id <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>map2_dfc</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>walk2</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap_lgl</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap_int</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap_dbl</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap_chr</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap_raw</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pmap_dfr</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span>, .id <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>pmap_dfc</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>pwalk</span><span class='op'>(</span><span class='va'>.l</span>, <span class='va'>.f</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.x, .y</th>
      <td><p>Vectors of the same length. A vector of length 1 will
be recycled.</p></td>
    </tr>
    <tr>
      <th>.f</th>
      <td><p>A function, formula, or vector (not necessarily atomic).</p>
<p>If a <strong>function</strong>, it is used as is.</p>
<p>If a <strong>formula</strong>, e.g. <code>~ .x + 2</code>, it is converted to a function. There
are three ways to refer to the arguments:</p><ul>
<li><p>For a single argument function, use <code>.</code></p></li>
<li><p>For a two argument function, use <code>.x</code> and <code>.y</code></p></li>
<li><p>For more arguments, use <code>..1</code>, <code>..2</code>, <code>..3</code> etc</p></li>
</ul>

<p>This syntax allows you to create very compact anonymous
functions. Note that formula functions conceptually take dots
(that's why you can use <code>..1</code> etc). They silently ignore
additional arguments that are not used in the formula expression.</p>
<p>If <strong>character vector</strong>, <strong>numeric vector</strong>, or <strong>list</strong>, it is
converted to an extractor function. Character vectors index by
name and numeric vectors index by position; use a list to index
by position and name at different levels. If a component is not
present, the value of <code>.default</code> will be returned.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed on to the mapped function.</p></td>
    </tr>
    <tr>
      <th>.id</th>
      <td><p>Either a string or <code>NULL</code>. If a string, the output will contain
a variable with that name, storing either the name (if <code>.x</code> is named) or
the index (if <code>.x</code> is unnamed) of the input. If <code>NULL</code>, the default, no
variable will be created.</p>
<p>Only applies to <code>_dfr</code> variant.</p></td>
    </tr>
    <tr>
      <th>.l</th>
      <td><p>A list of vectors, such as a data frame. The length of <code>.l</code>
determines the number of arguments that <code>.f</code> will be called with. List
names will be used if present.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An atomic vector, list, or data frame, depending on the suffix.
Atomic vectors and lists will be named if <code>.x</code> or the first
element of <code>.l</code> is named.</p>
<p>If all input is length 0, the output will be length 0. If any
input is length 1, it will be recycled to the length of the longest.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that arguments to be vectorised over come before <code>.f</code>,
and arguments that are supplied to every call come after <code>.f</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other map variants: 
<code><a href='imap.html'>imap</a>()</code>,
<code><a href='invoke.html'>invoke</a>()</code>,
<code><a href='lmap.html'>lmap</a>()</code>,
<code><a href='map_if.html'>map_if</a>()</code>,
<code><a href='map.html'>map</a>()</code>,
<code><a href='modify.html'>modify</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span><span class='op'>)</span>
<span class='va'>z</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>200</span>, <span class='fl'>300</span><span class='op'>)</span>

<span class='fu'>map2</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='op'>~</span> <span class='va'>.x</span> <span class='op'>+</span> <span class='va'>.y</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 11
#&gt; 
#&gt; [[2]]
#&gt; [1] 21
#&gt; 
#&gt; [[3]]
#&gt; [1] 31
#&gt; </div><div class='input'><span class='co'># Or just</span>
<span class='fu'>map2</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>`+`</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 11
#&gt; 
#&gt; [[2]]
#&gt; [1] 21
#&gt; 
#&gt; [[3]]
#&gt; [1] 31
#&gt; </div><div class='input'>
<span class='fu'>pmap</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>z</span><span class='op'>)</span>, <span class='va'>sum</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 111
#&gt; 
#&gt; [[2]]
#&gt; [1] 221
#&gt; 
#&gt; [[3]]
#&gt; [1] 331
#&gt; </div><div class='input'>
<span class='co'># Matching arguments by position</span>
<span class='fu'>pmap</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>z</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>first</span>, <span class='va'>second</span>, <span class='va'>third</span><span class='op'>)</span> <span class='op'>(</span><span class='va'>first</span> <span class='op'>+</span> <span class='va'>third</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>second</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 1010
#&gt; 
#&gt; [[2]]
#&gt; [1] 4020
#&gt; 
#&gt; [[3]]
#&gt; [1] 9030
#&gt; </div><div class='input'>
<span class='co'># Matching arguments by name</span>
<span class='va'>l</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='va'>x</span>, b <span class='op'>=</span> <span class='va'>y</span>, c <span class='op'>=</span> <span class='va'>z</span><span class='op'>)</span>
<span class='fu'>pmap</span><span class='op'>(</span><span class='va'>l</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>c</span>, <span class='va'>b</span>, <span class='va'>a</span><span class='op'>)</span> <span class='op'>(</span><span class='va'>a</span> <span class='op'>+</span> <span class='va'>c</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>b</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 1010
#&gt; 
#&gt; [[2]]
#&gt; [1] 4020
#&gt; 
#&gt; [[3]]
#&gt; [1] 9030
#&gt; </div><div class='input'>
<span class='co'># Split into pieces, fit model to each piece, then predict</span>
<span class='va'>by_cyl</span> <span class='op'>&lt;-</span> <span class='va'>mtcars</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>.</span><span class='op'>$</span><span class='va'>cyl</span><span class='op'>)</span>
<span class='va'>mods</span> <span class='op'>&lt;-</span> <span class='va'>by_cyl</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='map.html'>map</a></span><span class='op'>(</span><span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>wt</span>, data <span class='op'>=</span> <span class='va'>.</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>map2</span><span class='op'>(</span><span class='va'>mods</span>, <span class='va'>by_cyl</span>, <span class='va'>predict</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $`4`
#&gt;     Datsun 710      Merc 240D       Merc 230       Fiat 128    Honda Civic 
#&gt;       26.47010       21.55719       21.78307       27.14774       30.45125 
#&gt; Toyota Corolla  Toyota Corona      Fiat X1-9  Porsche 914-2   Lotus Europa 
#&gt;       29.20890       25.65128       28.64420       27.48656       31.02725 
#&gt;     Volvo 142E 
#&gt;       23.87247 
#&gt; 
#&gt; $`6`
#&gt;      Mazda RX4  Mazda RX4 Wag Hornet 4 Drive        Valiant       Merc 280 
#&gt;       21.12497       20.41604       19.47080       18.78968       18.84528 
#&gt;      Merc 280C   Ferrari Dino 
#&gt;       18.84528       20.70795 
#&gt; 
#&gt; $`8`
#&gt;   Hornet Sportabout          Duster 360          Merc 450SE          Merc 450SL 
#&gt;            16.32604            16.04103            14.94481            15.69024 
#&gt;         Merc 450SLC  Cadillac Fleetwood Lincoln Continental   Chrysler Imperial 
#&gt;            15.58061            12.35773            11.97625            12.14945 
#&gt;    Dodge Challenger         AMC Javelin          Camaro Z28    Pontiac Firebird 
#&gt;            16.15065            16.33700            15.44907            15.43811 
#&gt;      Ford Pantera L       Maserati Bora 
#&gt;            16.91800            16.04103 
#&gt; </div><div class='input'>
<span class='co'># Vectorizing a function over multiple arguments</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"apple"</span>, <span class='st'>"banana"</span>, <span class='st'>"cherry"</span><span class='op'>)</span>,
  pattern <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"p"</span>, <span class='st'>"n"</span>, <span class='st'>"h"</span><span class='op'>)</span>,
  replacement <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"P"</span>, <span class='st'>"N"</span>, <span class='st'>"H"</span><span class='op'>)</span>,
  stringsAsFactors <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
<span class='fu'>pmap</span><span class='op'>(</span><span class='va'>df</span>, <span class='va'>gsub</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "aPPle"
#&gt; 
#&gt; [[2]]
#&gt; [1] "baNaNa"
#&gt; 
#&gt; [[3]]
#&gt; [1] "cHerry"
#&gt; </div><div class='input'><span class='fu'>pmap_chr</span><span class='op'>(</span><span class='va'>df</span>, <span class='va'>gsub</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "aPPle"  "baNaNa" "cHerry"</div><div class='input'>
<span class='co'># Use `...` to absorb unused components of input list .l</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
  x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>,
  y <span class='op'>=</span> <span class='fl'>10</span><span class='op'>:</span><span class='fl'>12</span>,
  z <span class='op'>=</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='op'>)</span>
<span class='va'>plus</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span> <span class='va'>x</span> <span class='op'>+</span> <span class='va'>y</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># this won't work</span>
<span class='fu'>pmap</span><span class='op'>(</span><span class='va'>df</span>, <span class='va'>plus</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'># but this will</span>
<span class='va'>plus2</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>...</span><span class='op'>)</span> <span class='va'>x</span> <span class='op'>+</span> <span class='va'>y</span>
<span class='fu'>pmap_dbl</span><span class='op'>(</span><span class='va'>df</span>, <span class='va'>plus2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 11 13 15</div><div class='input'>
<span class='co'># The "p" for "parallel" in pmap() is the same as in base::pmin()</span>
<span class='co'># and base::pmax()</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>5</span><span class='op'>)</span>,
  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>4</span>, <span class='fl'>8</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='co'># all produce the same result</span>
<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>pmin</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>$</span><span class='va'>x</span>, <span class='va'>df</span><span class='op'>$</span><span class='va'>y</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1 2 5</div><div class='input'><span class='fu'>map2_dbl</span><span class='op'>(</span><span class='va'>df</span><span class='op'>$</span><span class='va'>x</span>, <span class='va'>df</span><span class='op'>$</span><span class='va'>y</span>, <span class='va'>min</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1 2 5</div><div class='input'><span class='fu'>pmap_dbl</span><span class='op'>(</span><span class='va'>df</span>, <span class='va'>min</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1 2 5</div><div class='input'>
<span class='co'># If you want to bind the results of your function rowwise, use:</span>
<span class='co'># map2_dfr() or pmap_dfr()</span>
<span class='va'>ex_fun</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>arg1</span>, <span class='va'>arg2</span><span class='op'>)</span><span class='op'>{</span>
<span class='va'>col</span> <span class='op'>&lt;-</span> <span class='va'>arg1</span> <span class='op'>+</span> <span class='va'>arg2</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>col</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>arg1</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>
<span class='va'>arg2</span> <span class='op'>&lt;-</span> <span class='fl'>10</span><span class='op'>:</span><span class='fl'>13</span>
<span class='fu'>map2_dfr</span><span class='op'>(</span><span class='va'>arg1</span>, <span class='va'>arg2</span>, <span class='va'>ex_fun</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   col
#&gt; 1  11
#&gt; 2  13
#&gt; 3  15
#&gt; 4  17</div><div class='input'><span class='co'># If instead you want to bind by columns, use map2_dfc() or pmap_dfc()</span>
<span class='fu'>map2_dfc</span><span class='op'>(</span><span class='va'>arg1</span>, <span class='va'>arg2</span>, <span class='va'>ex_fun</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>New names:</span>
#&gt; <span class='message'>* col -&gt; col...1</span>
#&gt; <span class='message'>* col -&gt; col...2</span>
#&gt; <span class='message'>* col -&gt; col...3</span>
#&gt; <span class='message'>* col -&gt; col...4</span></div><div class='output co'>#&gt;   col...1 col...2 col...3 col...4
#&gt; 1      11      13      15      17</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>purrr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Lionel Henry, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


